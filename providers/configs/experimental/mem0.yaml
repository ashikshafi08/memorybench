name: mem0
displayName: "Mem0"
description: "Universal memory layer for AI agents"
type: hosted
tags:
  - hosted
  - production
  - memory-layer

connection:
  # Note: MEM0_BASE_URL should NOT include /v1 - paths include the version
  baseUrl: "${MEM0_API_URL:-https://api.mem0.ai}"
  timeout: 30000

auth:
  type: token
  header: "Authorization"
  prefix: "Token "
  envVar: "MEM0_API_KEY"

scoping:
  strategy: userId
  runIdFormat: "${benchmarkId}-${runId}"

endpoints:
  add:
    method: POST
    path: /v1/memories/
    body:
      messages:
        - role: "user"
          content: "$.content"
      user_id: "$.runTag"
      infer: false

  search:
    method: POST
    path: /v1/memories/search/
    body:
      query: "$.query"
      user_id: "$.runTag"
      limit: 10
    response:
      results: "$"
      contentField: "$.memory"
      scoreField: "$.score"

  clear:
    method: DELETE
    path: /v1/memories/
    body:
      user_id: "$.runTag"

capabilities:
  supportsChunks: false
  supportsBatch: true
  supportsMetadata: true
  supportsRerank: false

rateLimit:
  addDelayMs: 100
  searchDelayMs: 500
  maxRetries: 3
  retryDelayMs: 2000
